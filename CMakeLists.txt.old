cmake_minimum_required(VERSION 3.5)
project(BoostChat)

set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -std=c++11")

include_directories(include)

set(SERVER_SOURCE_FILES server/source/server.cpp
        server/source/chat_server.cpp
        server/source/chat_channel.cpp
        server/source/chat_user_manager.cpp
        server/source/chat_user.cpp)

set(CLIENT_SOURCE_FILES client/source/client.cpp
        client/source/chat_client.cpp)

set(COMMON_SOURCE_FILES common/source/message.cpp)

add_library(chat_common ${COMMON_SOURCE_FILES})

set(LIBRARIES pthread
              boost_system
              chat_common)

add_executable(Server ${SERVER_SOURCE_FILES})
target_link_libraries(Server ${LIBRARIES})

add_executable(Client ${CLIENT_SOURCE_FILES})
target_link_libraries(Client ${LIBRARIES})